<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Introduction to Aamu.app GraphQL | Aamu.app blog</title><meta name=keywords content="tasks,graphql,database"><meta name=description content="How to use the database from a distance"><meta name=author content="Ilkka Huotari"><link rel=canonical href=https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.0a77af93ccdf18b7f91031f7306899e307bc84ae530b7908a6e3ecd36dec2b11.css integrity="sha256-Cnevk8zfGLf5EDH3MGiZ4we8hK5TC3kIpuPs023sKxE=" rel="preload stylesheet" as=style><link rel=icon href=https://st.aamu.app/img/logo-160-round-wbg.png><link rel=icon type=image/png sizes=16x16 href=https://aamu.app/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://aamu.app/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://aamu.app/blog/apple-touch-icon.png><link rel=mask-icon href=https://aamu.app/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=module>
    import PhotoSwipeLightbox from '\/blog\/js\/photoswipe-lightbox.esm.min.js';
    const lightbox = new PhotoSwipeLightbox({
      gallery: '.post-content',
      children: 'a.photoswipe-image',
      pswpModule: () => import('\/blog\/js\/photoswipe.esm.min.js')
    });
    lightbox.init();
</script><style>/*!PhotoSwipe main CSS by Dmytro Semenov | photoswipe.com*/.pswp{--pswp-bg:#000;--pswp-placeholder-bg:#222;--pswp-root-z-index:100000;--pswp-preloader-color:rgba(79, 79, 79, 0.4);--pswp-preloader-color-secondary:rgba(255, 255, 255, 0.9);--pswp-icon-color:#fff;--pswp-icon-color-secondary:#4f4f4f;--pswp-icon-stroke-color:#4f4f4f;--pswp-icon-stroke-width:2px;--pswp-error-text-color:var(--pswp-icon-color)}.pswp{position:fixed;top:0;left:0;width:100%;height:100%;z-index:var(--pswp-root-z-index);display:none;touch-action:none;outline:0;opacity:.003;contain:layout style size;-webkit-tap-highlight-color:transparent}.pswp:focus{outline:0}.pswp *{box-sizing:border-box}.pswp img{max-width:none}.pswp--open{display:block}.pswp,.pswp__bg{transform:translateZ(0);will-change:opacity}.pswp__bg{opacity:.005;background:var(--pswp-bg)}.pswp,.pswp__scroll-wrap{overflow:hidden}.pswp__scroll-wrap,.pswp__bg,.pswp__container,.pswp__item,.pswp__content,.pswp__img,.pswp__zoom-wrap{position:absolute;top:0;left:0;width:100%;height:100%}.pswp__img,.pswp__zoom-wrap{width:auto;height:auto}.pswp--click-to-zoom.pswp--zoom-allowed .pswp__img{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.pswp--click-to-zoom.pswp--zoomed-in .pswp__img{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.pswp--click-to-zoom.pswp--zoomed-in .pswp__img:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.pswp--no-mouse-drag.pswp--zoomed-in .pswp__img,.pswp--no-mouse-drag.pswp--zoomed-in .pswp__img:active,.pswp__img{cursor:-webkit-zoom-out;cursor:-moz-zoom-out;cursor:zoom-out}.pswp__container,.pswp__img,.pswp__button,.pswp__counter{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__item{z-index:1;overflow:hidden}.pswp__hidden{display:none !important}.pswp__content{pointer-events:none}.pswp__content>*{pointer-events:auto}.pswp__error-msg-container{display:grid}.pswp__error-msg{margin:auto;font-size:1em;line-height:1;color:var(--pswp-error-text-color)}.pswp .pswp__hide-on-close{opacity:.005;will-change:opacity;transition:opacity var(--pswp-transition-duration)cubic-bezier(.4,0,.22,1);z-index:10;pointer-events:none}.pswp--ui-visible .pswp__hide-on-close{opacity:1;pointer-events:auto}.pswp__button{position:relative;display:block;width:50px;height:60px;padding:0;margin:0;overflow:hidden;cursor:pointer;background:0 0;border:0;box-shadow:none;opacity:.85;-webkit-appearance:none;-webkit-touch-callout:none}.pswp__button:hover,.pswp__button:active,.pswp__button:focus{transition:none;padding:0;background:0 0;border:0;box-shadow:none;opacity:1}.pswp__button:disabled{opacity:.3;cursor:auto}.pswp__icn{fill:var(--pswp-icon-color);color:var(--pswp-icon-color-secondary)}.pswp__icn{position:absolute;top:14px;left:9px;width:32px;height:32px;overflow:hidden;pointer-events:none}.pswp__icn-shadow{stroke:var(--pswp-icon-stroke-color);stroke-width:var(--pswp-icon-stroke-width);fill:none}.pswp__icn:focus{outline:0}div.pswp__img--placeholder,.pswp__img--with-bg{background:var(--pswp-placeholder-bg)}.pswp__top-bar{position:absolute;left:0;top:0;width:100%;height:60px;display:flex;flex-direction:row;justify-content:flex-end;z-index:10;pointer-events:none !important}.pswp__top-bar>*{pointer-events:auto;will-change:opacity}.pswp__button--close{margin-right:6px}.pswp__button--arrow{position:absolute;top:0;width:75px;height:100px;top:50%;margin-top:-50px}.pswp__button--arrow:disabled{display:none;cursor:default}.pswp__button--arrow .pswp__icn{top:50%;margin-top:-30px;width:60px;height:60px;background:0 0;border-radius:0}.pswp--one-slide .pswp__button--arrow{display:none}.pswp--touch .pswp__button--arrow{visibility:hidden}.pswp--has_mouse .pswp__button--arrow{visibility:visible}.pswp__button--arrow--prev{right:auto;left:0}.pswp__button--arrow--next{right:0}.pswp__button--arrow--next .pswp__icn{left:auto;right:14px;transform:scale(-1,1)}.pswp__button--zoom{display:none}.pswp--zoom-allowed .pswp__button--zoom{display:block}.pswp--zoomed-in .pswp__zoom-icn-bar-v{display:none}.pswp__preloader{position:relative;overflow:hidden;width:50px;height:60px;margin-right:auto}.pswp__preloader .pswp__icn{opacity:0;transition:opacity .2s linear;animation:pswp-clockwise 600ms linear infinite}.pswp__preloader--active .pswp__icn{opacity:.85}@keyframes pswp-clockwise{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.pswp__counter{height:30px;margin-top:15px;margin-inline-start:20px;font-size:14px;line-height:30px;color:var(--pswp-icon-color);text-shadow:1px 1px 3px var(--pswp-icon-color-secondary);opacity:.85}.pswp--one-slide .pswp__counter{display:none}</style><meta property="og:title" content="Introduction to Aamu.app GraphQL"><meta property="og:description" content="How to use the database from a distance"><meta property="og:type" content="article"><meta property="og:url" content="https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/"><meta property="og:image" content="https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-10-19T03:07:00+00:00"><meta property="article:modified_time" content="2025-06-02T15:39:17+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29.png"><meta name=twitter:title content="Introduction to Aamu.app GraphQL"><meta name=twitter:description content="How to use the database from a distance"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://aamu.app/blog/posts/"},{"@type":"ListItem","position":2,"name":"Introduction to Aamu.app GraphQL","item":"https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Introduction to Aamu.app GraphQL","name":"Introduction to Aamu.app GraphQL","description":"How to use the database from a distance","keywords":["tasks","graphql","database"],"articleBody":" Aamu.app database supports two APIs: one for submitting data into the database via standard HTML forms – this works just one direction. Also you can get and put data into the database via GraphQL.\nAs Wikipedia says it:\nGraphQL is an open-source data query and manipulation language.\nIt has a syntax for reading and writing the database. For testing it out, it is helpful to have a tool. I like Altair.\nTo use Altair or any similar tool you first need to setup it with the database endpoint and the database API key. The database endpoint is:\nhttps://api.aamu.app/api/v1/graphql/You can get the API key from your database settings.\nQuerying the databaseLet's assume we are using the database aamu-blog, which is the actual database which holds the blog posts you are reading now! The database looks like this in Aamu.app (at this moment in time there are only two rows, i.e. posts):\nIt has two tables: \"Blog post\" and \"Person\". Our GraphQL API will have these fields for this database (you can use for example Altair GraphQL client to see the database schema):\nSo, the GraphQL API will create two fields for each table, one for fetching a single item (by an ID), e.g. BlogPost and one (BlogPostCollection) for fetching many items (by some criteria you define).\nLet's see how to get a single item. This is the query:\nquery { BlogPost (slug: \"introduction-to-aamuapp-graphql\") { id created_at updated_at title slug description body status } }When you do the query, you will get the data back (if it exists) as json:\n{ \"data\": { \"BlogPost\": { \"id\": \"3cfa30f8-ab29-459a-ad91-0651ae0b08ad\", \"created_at\": \"2021-10-19T19:11:49.257Z\", \"updated_at\": \"2024-03-09T07:38:23.916Z\", \"title\": \"Introduction to Aamu.app GraphQL\", \"slug\": \"introduction-to-aamuapp-graphql\", \"description\": \"How to use the database from a distance\", \"body\": \"Aamu.app database supports two APIs: one for submitting data into the database via standard html forms – this works just one direction. Also you can get and put data into the database via GraphQL.\" ... etcYou can also get items by querying the field BlogPostCollection. This gives you multiple rows. You can also do filtering, sorting and pagination.\nLet's see how getting multiple posts goes. Let's get all the blog posts that are published (status is \"published\") and the results will be sorted by creation date (older first):\nquery { BlogPostCollection( filter: { status: { EQ: \"published\" } } sort: { created_at: DESC } ) { title slug created_at description } }This will give the following results:\n{ \"data\": { \"BlogPostCollection\": [ { \"title\": \"Introduction to Aamu.app GraphQL\", \"slug\": \"introduction-to-aamuapp-graphql\", \"created_at\": \"2021-10-19T09:00:00.000Z\", \"description\": \"How to use the database from a distance\" }, { \"title\": \"Introduction to Aamu.app\", \"slug\": \"introduction-to-aamu-app\", \"created_at\": \"2021-10-10T09:00:00.000Z\", \"description\": \"Aamu.app is an all-in-one productivity tool\" } ] } }You can use other filtering methods, for example GT (Greater Than):\nquery { BlogPostCollection( filter: { status: { EQ: \"published\" } updated_at: { GT: \"2022-01-04T02:15:37.975Z\" } } ) { id created_at updated_at title slug description body heroImage { url } author { name } status tags } }This is the actual query which I'm using to create this blog you are reading. This will fetch all the updated blog posts since I ran this last time (since I built the blog last time). I'm using Hugo to create this blog, and the blog posts are in Aamu's database, and I'm writing this using the Aamu's Documents feature.\nNote that there is a field called heroImage, which has a subfield url. You can find all the fields with Altair's Docs feature. It will fetch database structure, and you will see all the fields that you can query (or mutate).\nWith Altair you can also see what kind of filtering you can do. For example, Altair sees that the updated field is a date and will give you the following filtering options:\nYou can get that list by pressing Ctrl-Space. You can also get similar lists in every spot in the query window – all the fields and filtering options will be easy to see.\nMutating the databaseHere we show at how we can mutate database rows.\nAt the moment you can mutate single objects, which are targeted with the id.\nHere we update a database row in our Person table. We will target the row that we want to change with the id field. In Aamu.app, the id field is a string, and you can find the correct id by first querying the persons, possibly with some criteria. Here is an example mutation query. It will change the title of the person and return some fields that we want to see about the person.\nmutation { Person(id: \"29940627-51e8-4fd0-82ab-d718ddfe802f\", title: \"Chief Procrastination Officer (CPO)\") { id created_at updated_at name bio title } }\n","wordCount":"778","inLanguage":"en","image":"https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29.png","datePublished":"2021-10-19T03:07:00Z","dateModified":"2025-06-02T15:39:17.723Z","author":{"@type":"Person","name":"Ilkka Huotari"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/"},"publisher":{"@type":"Organization","name":"Aamu.app blog","logo":{"@type":"ImageObject","url":"https://st.aamu.app/img/logo-160-round-wbg.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://aamu.app/blog/ accesskey=h title="Aamu.app blog (Alt + H)">Aamu.app blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch></ul></div></div><ul id=menu><li><a href=https://aamu.app/ title=Aamu.app><span>Aamu.app</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://aamu.app/blog/archives title=Archive><span>Archive</span></a></li><li><a href=https://aamu.app/blog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://aamu.app/blog/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Introduction to Aamu.app GraphQL</h1><div class=post-description>How to use the database from a distance</div><div class=post-meta><span title='2021-10-19 03:07:00 +0000 UTC'>October 19, 2021</span>&nbsp;·&nbsp;<span title='2025-06-02 15:39:17.723 +0000 UTC'>Updated June 2, 2025</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Ilkka Huotari</div></header><figure class=entry-cover><img srcset="https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29_hu_378f2be65cd91c0.webp 200w ,https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29_hu_4563a9881caac8d8.webp 300w ,https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29_hu_a1c608fe6910509b.webp 360w ,https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29_hu_e278af4beac6004a.webp 480w ,https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29_hu_bcf50d55b151a058.webp 720w ,https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29_hu_a25ef9ba4fe196ed.webp 1080w ,https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29_hu_e7edde502be3d14d.webp 1500w ,https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29.png 5000w" sizes="(min-width: 768px) 768px, calc(100vw - 60px)" src=https://aamu.app/blog/posts/introduction-to-aamuapp-graphql/7784447048321250_GraphQL%20Logo%20+%20Wordmark%20%28Rhodamine%29_hu_747e1ce41bd6e587.jpg alt style=aspect-ratio:5000/1364></figure><div class=post-content><p>Aamu.app database supports two APIs: one for submitting data into the database via standard HTML forms – this works just one direction. Also you can get and put data into the database via GraphQL.</p><p>As Wikipedia says it:</p><blockquote><p>GraphQL is an open-source data query and manipulation language.</p></blockquote><p>It has a syntax for reading and writing the database. For testing it out, it is helpful to have a tool. I like Altair.<br>To use Altair or any similar tool you first need to setup it with the database endpoint and the database API key. The database endpoint is:</p><div class=code-wrapper><pre class=chroma><code class=language-plaintext><span class=line><span class=cl>https://api.aamu.app/api/v1/graphql/</span></span></code></pre><button class=copy-code>copy</button></div><p>You can get the API key from your <em>database settings.</em></p><h2>Querying the database</h2><p>Let's assume we are using the database <strong>aamu-blog</strong>, which is the actual database which holds the blog posts you are reading now! The database looks like this in Aamu.app (at this moment in time there are only two rows, i.e. posts):<br></p><img src=8939066432511453_1709968790929.jpg class=ql-image style=width:auto><p><br>It has two tables: "Blog post" and "Person". Our GraphQL API will have these fields for this database (you can use for example Altair GraphQL client to see the database schema):<br></p><img src=3668231413048561_1709968866417.jpg class=ql-image style=width:auto><p><br>So, the GraphQL API will create two fields for each table, one for fetching a single item (by an <strong>ID</strong>), e.g. <strong>BlogPost</strong> and one (<strong>BlogPostCollection</strong>) for fetching many items (by some criteria you define).</p><p>Let's see how to get a single item. This is the query:</p><div class=code-wrapper><pre class=chroma><code class=language-graphql><span class=line><span class=cl><span class=kd>query</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nc>BlogPost</span><span class=w> </span><span class=p>(</span><span class=py>slug</span><span class=p>:</span><span class=w> </span><span class=s>&#34;introduction-to-aamuapp-graphql&#34;</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nc>id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=py>created_at</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=py>updated_at</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=py>title</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=py>slug</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=py>description</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=py>body</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=py>status</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span></span></span></code></pre><button class=copy-code>copy</button></div><p>When you do the query, you will get the data back (if it exists) as json:</p><div class=code-wrapper><pre class=chroma><code class=language-graphql><span class=line><span class=cl><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=s>&#34;data&#34;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;BlogPost&#34;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=s>&#34;id&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;3cfa30f8-ab29-459a-ad91-0651ae0b08ad&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=s>&#34;created_at&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;2021-10-19T19:11:49.257Z&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=s>&#34;updated_at&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;2024-03-09T07:38:23.916Z&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=s>&#34;title&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;Introduction to Aamu.app GraphQL&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=s>&#34;slug&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;introduction-to-aamuapp-graphql&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=s>&#34;description&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;How to use the database from a distance&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=s>&#34;body&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;Aamu.app database supports two APIs: one for submitting data into the database via standard html forms – this works just one direction. Also you can get and put data into the database via GraphQL.&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=kd>...</span><span class=w> </span><span class=nc>etc</span></span></span></code></pre><button class=copy-code>copy</button></div><p>You can also get items by querying the field <strong>BlogPostCollection</strong>. This gives you multiple rows. You can also do filtering, sorting and pagination.</p><p>Let's see how getting multiple posts goes. Let's get all the blog posts that are published (status is "published") and the results will be sorted by creation date (older first):</p><div class=code-wrapper><pre class=chroma><code class=language-graphql><span class=line><span class=cl><span class=kd>query</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nc>BlogPostCollection</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>filter</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nc>status</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nc>EQ</span><span class=p>:</span><span class=w> </span><span class=s>&#34;published&#34;</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nc>sort</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nc>created_at</span><span class=p>:</span><span class=w> </span><span class=nc>DESC</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>title</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>slug</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>created_at</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>description</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span></span></span></code></pre><button class=copy-code>copy</button></div><p>This will give the following results:</p><div class=code-wrapper><pre class=chroma><code class=language-graphql><span class=line><span class=cl><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=s>&#34;data&#34;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;BlogPostCollection&#34;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s>&#34;title&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;Introduction to Aamu.app GraphQL&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s>&#34;slug&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;introduction-to-aamuapp-graphql&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s>&#34;created_at&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;2021-10-19T09:00:00.000Z&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s>&#34;description&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;How to use the database from a distance&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s>&#34;title&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;Introduction to Aamu.app&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s>&#34;slug&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;introduction-to-aamu-app&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s>&#34;created_at&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;2021-10-10T09:00:00.000Z&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s>&#34;description&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;Aamu.app is an all-in-one productivity tool&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span></span></span></code></pre><button class=copy-code>copy</button></div><p>You can use other filtering methods, for example <strong>GT</strong> (Greater Than):</p><div class=code-wrapper><pre class=chroma><code class=language-graphql><span class=line><span class=cl><span class=kd>query</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nc>BlogPostCollection</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>filter</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nc>status</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nc>EQ</span><span class=p>:</span><span class=w> </span><span class=s>&#34;published&#34;</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nc>updated_at</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nc>GT</span><span class=p>:</span><span class=w> </span><span class=s>&#34;2022-01-04T02:15:37.975Z&#34;</span><span class=w> </span><span class=p>}</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nc>id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=py>created_at</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=py>updated_at</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=py>title</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=py>slug</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=py>description</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=py>body</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=py>heroImage</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=py>url</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=py>author</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=py>name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=py>status</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=py>tags</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span></span></span></code></pre><button class=copy-code>copy</button></div><p>This is the actual query which I'm using to create this blog you are reading. This will fetch all the updated blog posts since I ran this last time (since I built the blog last time). I'm using Hugo to create this blog, and the blog posts are in Aamu's database, and I'm writing this using the Aamu's Documents feature.</p><p>Note that there is a field called <strong>heroImage</strong>, which has a subfield <strong>url</strong>. You can find all the fields with Altair's Docs feature. It will fetch database structure, and you will see all the fields that you can query (or mutate).</p><p>With Altair you can also see what kind of filtering you can do. For example, Altair sees that the <strong>updated</strong> field is a date and will give you the following filtering options:<br></p><img src=8784131230222412_1709979164496.jpg class=ql-image style=width:auto><p><br>You can get that list by pressing Ctrl-Space. You can also get similar lists in every spot in the query window – all the fields and filtering options will be easy to see.</p><h2>Mutating the database</h2><p>Here we show at how we can mutate database rows.</p><p>At the moment you can mutate single objects, which are targeted with the <code>id</code>.</p><p>Here we update a database row in our <strong>Person</strong> table. We will target the row that we want to change with the <code>id</code> field. In Aamu.app, the <code>id</code> field is a string, and you can find the correct <code>id</code> by first querying the persons, possibly with some criteria.</p><p>Here is an example mutation query. It will change the <strong>title</strong> of the person and return some fields that we want to see about the person.</p><div class=code-wrapper><pre class=chroma><code class=language-graphql><span class=line><span class=cl><span class=kd>mutation</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nc>Person</span><span class=p>(</span><span class=py>id</span><span class=p>:</span><span class=w> </span><span class=s>&#34;29940627-51e8-4fd0-82ab-d718ddfe802f&#34;</span><span class=p>,</span><span class=w> </span><span class=nc>title</span><span class=p>:</span><span class=w> </span><span class=s>&#34;Chief Procrastination Officer (CPO)&#34;</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nc>id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>created_at</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>updated_at</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>bio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=py>title</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span></span></span></code></pre><button class=copy-code>copy</button></div><p><br></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://aamu.app/blog/tags/tasks/>Tasks</a></li><li><a href=https://aamu.app/blog/tags/graphql/>Graphql</a></li><li><a href=https://aamu.app/blog/tags/database/>Database</a></li></ul><nav class=paginav><a class=prev href=https://aamu.app/blog/posts/creating-a-blog-with-aamuapp/><span class=title>« Prev</span><br><span>Creating a blog with Aamu.app</span>
</a><a class=next href=https://aamu.app/blog/posts/introduction-to-aamu-app/><span class=title>Next »</span><br><span>Introduction to Aamu.app</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://aamu.app/blog/>Aamu.app blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>